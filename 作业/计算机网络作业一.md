### 计算机网络作业一

花昌诚 PB20030866

教材习题第1章9，10，13，21，22，25，31，33

##### 1.9

a.当采用电路交换技术时，在所有的时间内必须为每个用户预留100kbps，所以，
$$
N=1Mbps/100kbps=10000
$$
b.多于N用户发送数据的概率公式为：
$$
\sum_{i=N+1}^{M} \binom{M}{i}p^{i}(1-p)^{M-i}
$$

##### 1.10

（1）假定没有排队时延，传输时延为$\frac{L}{R_1}+\frac{L}{R_2}+\frac{L}{R_3}$，传播时延为$\frac{d_1}{s_1}+\frac{d_2}{s_2}+\frac{d_3}{s_3}$，还要加上两个处理时延，因此总的端到端时延为：
$$
d_{nodal} =\frac{L}{R_1}+\frac{L}{R_2}+\frac{L}{R_3}+\frac{d_1}{s_1}+\frac{d_2}{s_2}+\frac{d_3}{s_3}+2*d_{proc}
$$
（2）将条件带入上式，端到端时延为：
$$
d_{nodal}=2*3+3* \frac{1500*8}{2*10^6}*10^3+ \frac{(5000+4000+1000)*10^3*10^3}{2.5*10^8}=64ms
$$

##### 1.13

a.对第二个及其往后的分组而言，需要等待的时间分别为$\frac{L}{R},\frac{2L}{R} \cdots,\frac{(N-1)L}{R}$，则平均排队时延为：
$$
(\frac{L}{R}+\frac{2L}{R}+ \dots \frac{(N-1)L}{R})/N = \frac{(N-1)L}{2R}
$$
b.因为传输N个分组所需时间即为$\frac{LN}{R}$，所以每次N个分组到达链路，恰好当前没有分组传输或排队，所以一个分组的平均排队时延与a相同，仍为$\frac{(N-1)L}{2R}$。

##### 1.21

（1）仅能够使用一条路径，最大吞吐量是N条路径的吞吐量的最大值，即为：
$$
max \{ min(R_1^1,R_2^1,\cdots,R_N^1),min(R_1^2,R_2^2,\cdots,R_N^2),\cdots,min(R_1^M,R_2^M,\cdots,R_N^M)\}
$$
（2）如果能够使用所有路径，那么吞吐量为N条路径的吞吐量之和：
$$
\sum_{i=1}^{M}min(R_1^i,R_2^i,\cdots,R_N^i)
$$

##### 1.22

（1）根据图1-19b，一共有N条链路，那么一个分组被成功接收的概率为$(1-p)^N$。

（2）记一个分组被成功接收概率为${p}'$，可以发现服务器传输次数遵循概率为${p}'$的几何分布，那么传输次数的期望为$\frac{1}{{p}'}$，所以平均来说服务器将要重传该分组次数为：
$$
\frac{1}{{p}'}-1=\frac{1}{(1-p)^N}-1
$$

##### 1.25

a.
$$
R \cdot t_{prop} = 2*10^6*\frac{2*10^7}{2.5*10^8}=1.6*10^5bits
$$
b.传播时延为$t_{prop}=0.08s$，即需要0.08s一个bit从一台主机到另一台主机，而在这个时间内，主机一直在发送bit，所以在该链路上具有的比特数量最大值是$1.6*10^5bits$。

c.带宽-时延积是链路中可以存在的最大bits数。

d.一个bit的宽度是$\frac{2*10^7}{1.6*10^5}=125m$，比一个足球场长（足球场长为105m）

e.一个比特宽度的一般表示式为：
$$
d_{bit}=\frac{d_m}{R*t_{prop}}=\frac{d_m}{R*\frac{d_m}{s}}=\frac{s}{R}
$$

##### 1.31

a.源主机到第一台分组交换机移动报文，时间为：$\frac{8*10^6}{2*10^6}=4s$

因为是存储转发，从源主机到目的主机时间为：$4s*3=12s$

b.源主机移动第一个分组到第一台交换机时间：$\frac{1*10^4}{2*10^6}=5ms$

第一台交换机发送第一个分组到第二台交换机和从源主机发送第二个分组到第一台交换机需要的时间都为$5ms$，结束后花费$2*5ms=10ms$。在经过$10ms$时第二个分组被第一台交换机全部收到。

c.一共有800个分组，每过$5ms$源主机发送一个分组，发送最后一个分组完成后再经过$10ms$到达目的主机，所以进行报文分段移动该文件需要$5ms*800+10ms=4.01s$

与a的答案相比时间延迟显著减小，因为每个交换机几乎一直在发送分组，不像没有报文分段时需要一直等待报文发送过来。

d.当没有报文分段，较小的数据包如果在大文件后面需要一直排队，受到较大延迟；

当发送的数据有错误时，进行报文分段只需要重发有错误的分组即可。

e.在目的终端处，分组需要按顺序存放才能组成原来的文件；

报文分段导致产生很多数据包，因为每个数据包报头都需要描述信息，报文分段使得数据总量更大

##### 1.33

根据给的数据，可以写出移动该文件时延的表达式，再对其求导即可得符合条件的S值。
$$
D_t = \frac{L}{R}*(\frac{F}{S}+2)=\frac{S+80}{R}*(\frac{F}{S}+2) \\
令\frac{\mathrm{d} D_t}{\mathrm{d} S}=\frac{2}{R}-\frac{80F}{RS^2}=0 \\
解得：S=\sqrt{40F}
$$
所以从A到B移动该文件时延最小的值$S=\sqrt{40F}$。
$$

$$

$$

$$

$$

$$
